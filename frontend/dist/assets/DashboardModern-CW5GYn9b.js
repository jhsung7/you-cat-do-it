import{u as fe,r as m,j as e,a as Ct,b as St,L as Dt}from"./index-ff_Z8oB1.js";import{u as le}from"./healthStore-DqCSjk-d.js";import{a as At,g as Lt,v as Ft,p as $t}from"./gemini-CtJ_B-Ee.js";import{g as Tt,e as Mt,c as Pt,a as Rt}from"./calorieCalculator-BlAdo2iD.js";import{d as Ke,l as It,s as Ut}from"./medicationStorage-CnClPTVA.js";function Wt({catId:s,currentWeight:r,onSave:j,onClose:v}){const{i18n:d}=fe(),i=d.language,[o,x]=m.useState(r.toString()),[w,W]=m.useState(new Date().toISOString().split("T")[0]),[C,P]=m.useState(""),F=k=>{k.preventDefault();const b=parseFloat(o);if(isNaN(b)||b<=0){alert(i==="ko"?"ìœ íš¨í•œ ì²´ì¤‘ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.":"Please enter a valid weight.");return}const B=new Date(w),$={id:crypto.randomUUID(),catId:s,date:w,timestamp:B.getTime(),weight:b,notes:C||void 0};j($),v()},D=parseFloat(o)-r,R=(D/r*100).toFixed(1);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["âš–ï¸ ",i==="ko"?"ì²´ì¤‘ ê¸°ë¡":"Weight Log"]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="ko"?"ë‚ ì§œ":"Date"}),e.jsx("input",{type:"date",value:w,onChange:k=>W(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="ko"?"ì²´ì¤‘ (kg)":"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.01",value:o,onChange:k=>x(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0}),o&&!isNaN(parseFloat(o))&&e.jsxs("div",{className:`mt-2 text-sm ${D>0?"text-orange-600":D<0?"text-blue-600":"text-gray-600"}`,children:[i==="ko"?"ì´ì „ ê¸°ë¡ ëŒ€ë¹„: ":"vs Previous: ",D>0?"+":"",D.toFixed(2),"kg (",D>0?"+":"",R,"%)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="ko"?"ë©”ëª¨ (ì„ íƒ)":"Notes (Optional)"}),e.jsx("textarea",{value:C,onChange:k=>P(k.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:i==="ko"?"íŠ¹ì´ì‚¬í•­ì„ ê¸°ë¡í•˜ì„¸ìš”...":"Record any notes..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:v,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:i==="ko"?"ì·¨ì†Œ":"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:i==="ko"?"ì €ì¥":"Save"})]})]})]})})})}const Bt={digestive:{ko:"ì†Œí™”ê¸°",en:"Digestive",symptoms:{vomiting:{ko:"êµ¬í† ",en:"Vomiting"},diarrhea:{ko:"ì„¤ì‚¬",en:"Diarrhea"},constipation:{ko:"ë³€ë¹„",en:"Constipation"},bloodInStool:{ko:"í˜ˆë³€",en:"Blood in stool"},lossOfAppetite:{ko:"ì‹ìš•ë¶€ì§„",en:"Loss of appetite"}}},respiratory:{ko:"í˜¸í¡ê¸°",en:"Respiratory",symptoms:{sneezing:{ko:"ì¬ì±„ê¸°",en:"Sneezing"},coughing:{ko:"ê¸°ì¹¨",en:"Coughing"},breathingDifficulty:{ko:"í˜¸í¡ ê³¤ë€",en:"Breathing difficulty"},nasalDischarge:{ko:"ì½§ë¬¼",en:"Nasal discharge"}}},skin:{ko:"í”¼ë¶€",en:"Skin",symptoms:{hairLoss:{ko:"íƒˆëª¨",en:"Hair loss"},itching:{ko:"ê°€ë ¤ì›€",en:"Itching"},rash:{ko:"ë°œì§„",en:"Rash"},dandruff:{ko:"ë¹„ë“¬",en:"Dandruff"},wounds:{ko:"ìƒì²˜",en:"Wounds"}}},behavioral:{ko:"í–‰ë™",en:"Behavioral",symptoms:{hiding:{ko:"ìˆ¨ê¸°",en:"Hiding"},aggression:{ko:"ê³µê²©ì„±",en:"Aggression"},excessiveGrooming:{ko:"ê³¼ë„í•œ ê·¸ë£¨ë°",en:"Excessive grooming"},excessiveMeowing:{ko:"ì•¼ì˜¹ ì¦ê°€",en:"Excessive meowing"}}},urinary:{ko:"ë¹„ë‡¨ê¸°",en:"Urinary",symptoms:{frequentUrination:{ko:"ë‹¤ë‡¨",en:"Frequent urination"},straining:{ko:"ë°°ë‡¨ ê³¤ë€",en:"Straining to urinate"},bloodInUrine:{ko:"í˜ˆë‡¨",en:"Blood in urine"}}},neurological:{ko:"ì‹ ê²½",en:"Neurological",symptoms:{seizures:{ko:"ê²½ë ¨",en:"Seizures"},staggering:{ko:"ë¹„í‹€ê±°ë¦¼",en:"Staggering"},disorientation:{ko:"ë°©í–¥ ê°ê° ìƒì‹¤",en:"Disorientation"}}},other:{ko:"ê¸°íƒ€",en:"Other",symptoms:{weightChange:{ko:"ì²´ì¤‘ ë³€í™”",en:"Weight change"},limping:{ko:"ì ˆëšê±°ë¦¼",en:"Limping"},eyeIssues:{ko:"ì•ˆêµ¬ ì´ìƒ",en:"Eye issues"}}}};function qt({catId:s,catName:r,onSave:j,onClose:v}){const{i18n:d}=fe(),i=d.language,x=le(p=>p.anomaliesByCat[s])||[],[w,W]=m.useState([]),[C,P]=m.useState(5),[F,D]=m.useState(""),[R,k]=m.useState(!1),[b,B]=m.useState(null),[$,I]=m.useState([]),h=p=>{W(l=>l.includes(p)?l.filter(f=>f!==p):[...l,p])},A=async()=>{if(w.length===0&&!F){alert(i==="ko"?"ì¦ìƒì„ ì„ íƒí•˜ê±°ë‚˜ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.":"Please select symptoms or add description.");return}k(!0);const l=[x.length?`[${i==="ko"?"ìµœê·¼ ì´ìƒ ì§•í›„":"Recent anomalies"}: ${x.map(f=>f.description).join(" | ")}] `:"",...w.map(f=>f),F].filter(Boolean).join(", ").trim();try{const f=await At(l,{name:r},i);B({urgency:f.urgency,text:f.analysis,recommendations:f.recommendations||[]});const K=Lt(l,i,2);if(K.length>0)I(K);else{const O=Ft.find(z=>{var te;return(te=z.source)==null?void 0:te.url});I(O?[O]:[])}}catch(f){console.error("Symptom analysis failed",f),alert(i==="ko"?"AI ë¶„ì„ì— ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.":"Unable to analyze. Please try again.")}finally{k(!1)}},H=()=>{if(!b){alert(i==="ko"?"ë¨¼ì € AI ë¶„ì„ì„ ë°›ì•„ì£¼ì„¸ìš”.":"Please analyze symptoms first.");return}const p=new Date,l={id:crypto.randomUUID(),catId:s,date:p.toISOString().split("T")[0],timestamp:p.getTime(),symptomType:w.join(", "),severity:C<=3?"mild":C<=7?"moderate":"severe",description:F||w.join(", "),urgency:b.urgency};j(l),v()},N={emergency:{emoji:"ğŸ”´",text:i==="ko"?"ì‘ê¸‰":"Emergency",color:"bg-red-100 text-red-700 border-red-300"},warning:{emoji:"ğŸŸ¡",text:i==="ko"?"ì£¼ì˜":"Warning",color:"bg-yellow-100 text-yellow-700 border-yellow-300"},mild:{emoji:"ğŸŸ¢",text:i==="ko"?"ê²½ë¯¸":"Mild",color:"bg-green-100 text-green-700 border-green-300"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 z-10",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["âš ï¸ ",i==="ko"?"ì¦ìƒ ì²´í¬":"Symptom Checker"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i==="ko"?`${r}ì˜ ì¦ìƒì„ ì„ íƒí•˜ê³  AI ë¶„ì„ì„ ë°›ì•„ë³´ì„¸ìš”.`:`Select ${r}'s symptoms and get AI analysis.`})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"space-y-4",children:Object.entries(Bt).map(([p,l])=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:l[i]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(l.symptoms).map(([f,K])=>{const O=K[i],z=w.includes(O);return e.jsxs("button",{onClick:()=>h(O),className:`px-3 py-2 rounded-lg text-sm transition ${z?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[z&&"âœ“ ",O]},f)})})]},p))}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i==="ko"?"ì¦ìƒ ì‹¬ê°ë„":"Symptom Severity"," (",C,"/10)"]}),e.jsx("input",{type:"range",min:"1",max:"10",value:C,onChange:p=>P(Number(p.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, #10B981 0%, #FBBF24 50%, #EF4444 100%)"}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[e.jsx("span",{children:i==="ko"?"ê²½ë¯¸":"Mild"}),e.jsx("span",{children:i==="ko"?"ì¤‘ê°„":"Moderate"}),e.jsx("span",{children:i==="ko"?"ì‹¬ê°":"Severe"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="ko"?"ìƒì„¸ ì„¤ëª…":"Detailed Description"}),e.jsx("textarea",{value:F,onChange:p=>D(p.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:i==="ko"?"ì¦ìƒì— ëŒ€í•´ ìì„¸íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”. (ì˜ˆ: ì–¸ì œë¶€í„°, ì–¼ë§ˆë‚˜ ìì£¼, ë‹¤ë¥¸ ì¦ìƒì€?)":"Describe the symptoms in detail. (e.g., since when, how often, other symptoms?)"})]}),e.jsx("button",{onClick:A,disabled:R||w.length===0&&!F,className:`w-full px-6 py-3 rounded-lg font-medium transition ${R?"bg-gray-400 cursor-not-allowed":w.length>0||F?"bg-purple-500 text-white hover:bg-purple-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:R?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i==="ko"?"AI ë¶„ì„ ì¤‘...":"AI Analyzing..."]}):e.jsxs(e.Fragment,{children:["ğŸ¤– ",i==="ko"?"AI ë¶„ì„ ë°›ê¸°":"Get AI Analysis"]})}),b&&e.jsxs("div",{className:`border-2 rounded-lg p-4 space-y-3 ${N[b.urgency].color}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:N[b.urgency].emoji}),e.jsx("span",{className:"text-lg font-bold",children:N[b.urgency].text})]}),e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:b.text}),b.recommendations.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:i==="ko"?"ê¶Œì¥ ì¡°ì¹˜":"Recommended actions"}),e.jsx("ul",{className:"mt-1 list-disc space-y-1 pl-4 text-sm text-gray-700",children:b.recommendations.map((p,l)=>e.jsx("li",{children:p},l))})]}),$.length>0&&e.jsxs("div",{className:"rounded-lg border border-amber-300 bg-white/60 p-3 text-xs text-amber-900",children:[e.jsxs("p",{className:"font-semibold mb-1",children:["ğŸ“š ",i==="ko"?"ê·¼ê±° ìë£Œ":"Evidence sources"]}),e.jsx("ul",{className:"space-y-1",children:$.map(p=>e.jsxs("li",{children:[p.source[i],p.source.url&&e.jsx("a",{href:p.source.url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 underline",children:i==="ko"?"ìì„¸íˆ":"Read"})]},p.id))})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t px-6 py-4 flex gap-3",children:[e.jsx("button",{onClick:v,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:i==="ko"?"ì·¨ì†Œ":"Cancel"}),e.jsx("button",{onClick:H,disabled:!b,className:`flex-1 px-6 py-3 rounded-lg transition ${b?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:i==="ko"?"ì €ì¥":"Save"})]})]})})}function zt({cat:s,dailyLogs:r,date:j,wetFoodCaloriesPer100g:v=85,dryFoodCaloriesPer100g:d=375,snackCaloriesPer100g:i=400}){const{i18n:o}=fe(),x=Tt(s,r,v,d,i),w=C=>{switch(C){case"low":return"text-orange-600 bg-orange-50 border-orange-200";case"high":return"text-red-600 bg-red-50 border-red-200";default:return"text-green-600 bg-green-50 border-green-200"}},W=C=>{switch(C){case"low":return"âš ï¸";case"high":return"ğŸ”´";default:return"âœ…"}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:["ğŸ“Š ",o.language==="ko"?"ì¼ì¼ ìš”ì•½":"Daily Summary",e.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",j.toLocaleDateString(o.language==="ko"?"ko-KR":"en-US"),")"]})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${w(x.calorieAnalysis.status)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold",children:[W(x.calorieAnalysis.status)," ",o.language==="ko"?"ì¹¼ë¡œë¦¬":"Calories"]}),e.jsxs("span",{className:"text-sm",children:[x.estimatedCalories," / ",x.recommendedCalories," kcal"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full ${x.calorieAnalysis.status==="low"?"bg-orange-500":x.calorieAnalysis.status==="high"?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(x.calorieAnalysis.percentage,100)}%`}})}),e.jsx("p",{className:"text-xs",children:o.language==="ko"?x.calorieAnalysis.message:x.calorieAnalysis.messageEn})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${w(x.waterAnalysis.status)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold",children:[W(x.waterAnalysis.status)," ",o.language==="ko"?"ìˆ˜ë¶„":"Water"]}),e.jsxs("span",{className:"text-sm",children:[x.totalWater," / ",x.recommendedWater," ml"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full ${x.waterAnalysis.status==="low"?"bg-orange-500":x.waterAnalysis.status==="high"?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(x.waterAnalysis.percentage,100)}%`}})}),e.jsx("p",{className:"text-xs",children:o.language==="ko"?x.waterAnalysis.message:x.waterAnalysis.messageEn})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[x.totalWetFood,"g"]}),e.jsx("div",{className:"text-xs text-gray-600",children:o.language==="ko"?"ìŠµì‹ ì‚¬ë£Œ":"Wet Food"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-amber-600",children:[x.totalDryFood,"g"]}),e.jsx("div",{className:"text-xs text-gray-600",children:o.language==="ko"?"ê±´ì‹ ì‚¬ë£Œ":"Dry Food"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-pink-600",children:[x.totalSnacks,"g"]}),e.jsx("div",{className:"text-xs text-gray-600",children:o.language==="ko"?"ê°„ì‹":"Snacks"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-cyan-600",children:[x.totalWater,"ml"]}),e.jsx("div",{className:"text-xs text-gray-600",children:o.language==="ko"?"ë¬¼":"Water"})]})]}),e.jsxs("div",{className:"pt-4 border-t text-xs text-gray-600",children:[e.jsxs("p",{children:["ğŸ’¡ ",o.language==="ko"?"ê¸°ì´ˆëŒ€ì‚¬ëŸ‰(BMR)":"Basal Metabolic Rate (BMR)",": ~",Math.round(x.recommendedCalories/1.2)," kcal"]}),e.jsx("p",{className:"mt-1",children:o.language==="ko"?"â€» ì¹¼ë¡œë¦¬ëŠ” í‰ê·  ê°’ìœ¼ë¡œ ì¶”ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ì •í™•í•œ ê°’ì€ ì‚¬ë£Œ ì œí’ˆì˜ ì˜ì–‘ ì„±ë¶„í‘œë¥¼ ì°¸ê³ í•˜ì„¸ìš”.":"â€» Calorie estimates are averages. Check food packaging for exact nutritional values."})]})]})}const Et=(s,r,j="ko")=>{const v=window.SpeechRecognition||window.webkitSpeechRecognition;if(!v)return r==null||r(j==="ko"?"ìŒì„± ì¸ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤. Chromeì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.":"Voice recognition not supported. Please use Chrome."),null;const d=new v;return d.lang=j==="ko"?"ko-KR":"en-US",d.continuous=!1,d.interimResults=!1,d.onresult=i=>{const o=i.results[0][0].transcript;console.log("ğŸ¤ Recognized:",o),s(o)},d.onerror=i=>{console.error("Speech recognition error:",i.error),r==null||r(j==="ko"?"ìŒì„± ì¸ì‹ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.":"Voice recognition error occurred.")},d.onend=()=>{console.log("ğŸ¤ Recognition ended")},d.start(),console.log("ğŸ¤ Recognition started"),d},Oe=s=>{if(s)try{s.stop(),console.log("ğŸ¤ Recognition stopped")}catch(r){console.error("Error stopping recognition:",r)}},Ht="https://images.unsplash.com/photo-1518791841217-8f162f1e1131?auto=format&fit=crop&w=200&q=60",Ve=1e3*60*60*24,Kt=s=>{const{cat:r,logs:j,anomalies:v,lang:d,wetFoodCaloriesPer100g:i,dryFoodCaloriesPer100g:o,snackCaloriesPer100g:x}=s;if(!r)return{headline:d==="ko"?"ê³ ì–‘ì´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”":"Select a cat profile",subline:d==="ko"?"AI ì½”ì¹­ì„ í™•ì¸í•˜ë ¤ë©´ ê³ ì–‘ì´ë¥¼ ì„ íƒí•˜ì„¸ìš”.":"Choose a cat to see AI guidance.",highlights:[],mode:"default"};const w=Date.now(),W=j.filter(l=>w-l.timestamp<=Ve),C=j.filter(l=>w-l.timestamp<=Ve*3),P=W.reduce((l,f)=>(l.wet+=f.wetFoodAmount||0,l.dry+=f.dryFoodAmount||0,l.snack+=f.snackAmount||0,l.water+=f.waterAmount||0,l),{wet:0,dry:0,snack:0,water:0}),F=Mt(P.wet,P.dry,P.snack,i,o,x),D=r.weight?Pt(r.weight,r.neutered,"normal"):0,R=r.weight?Rt(r.weight):0,k=D?Math.round(F/D*100):0,b=R?Math.round(P.water/R*100):0,B=C.reduce((l,f)=>l+(f.playDurationMinutes||0),0),$=Math.round(B/3),I=C.find(l=>l.playDurationMinutes),h=C.find(l=>l.brushedTeeth),A=h?(w-h.timestamp)/(1e3*60*60):null,H=A!=null?Math.floor(A/24):null,N=[];if(v.length){const l=v[0],f=l.metric==="food"?d==="ko"?"ì‹ì‚¬ëŸ‰":"Food intake":l.metric==="water"?d==="ko"?"ìˆ˜ë¶„ ì„­ì·¨":"Water intake":d==="ko"?"í™”ì¥ì‹¤ í™œë™":"Litter activity";N.push(d==="ko"?`${f} ì´ìƒ ê°ì§€: ${l.description}`:`${f} alert: ${l.description}`)}if(!W.length)N.push(d==="ko"?"ìµœê·¼ 24ì‹œê°„ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. ì‹ì‚¬, ë†€ì´, ì¹«ì†”ì§ˆì„ ê¸°ë¡í•˜ë©´ ë” ì •í™•í•œ ì¸ì‚¬ì´íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´ìš”.":"No logs in the last 24 hoursâ€”track meals, play, or brushing to unlock richer insights.");else if(D)if(k<85){const l=Math.max(0,D-F);N.push(d==="ko"?`ì¹¼ë¡œë¦¬ê°€ ê¶Œì¥ëŸ‰ì˜ ${k}% ìˆ˜ì¤€ì…ë‹ˆë‹¤. ì˜¤ëŠ˜ ì•½ ${l} kcalë¥¼ ì¶”ê°€ ê¸‰ì—¬í•´ ë³´ì„¸ìš”.`:`Calories are about ${k}% of goalâ€”offer roughly ${l} kcal more today.`)}else if(k>125){const l=Math.max(0,F-D);N.push(d==="ko"?`ì¹¼ë¡œë¦¬ê°€ ê¶Œì¥ëŸ‰ë³´ë‹¤ ${l} kcal ë§ìŠµë‹ˆë‹¤. ê°„ì‹ì´ë‚˜ ì‚¬ë£ŒëŸ‰ì„ ì¡°ê¸ˆ ì¤„ì—¬ë³´ì„¸ìš”.`:`Calories exceed target by ~${l} kcal. Trim treats or portions a bit.`)}else N.push(d==="ko"?"ì¹¼ë¡œë¦¬ ì„­ì·¨ê°€ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€ë˜ê³  ìˆì–´ìš”.":"Calorie intake sits comfortably within the healthy range.");if(R)if(b<70){const l=Math.max(0,R-P.water);N.push(d==="ko"?`ìˆ˜ë¶„ ì„­ì·¨ê°€ ëª©í‘œì¹˜ì˜ ${b}%ì…ë‹ˆë‹¤. ì•½ ${l}ml ë” ë§ˆì‹¤ ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ì„¸ìš”.`:`Water intake is ~${b}% of goal. Encourage another ${l}ml today.`)}else b>140?N.push(d==="ko"?"ìˆ˜ë¶„ ì„­ì·¨ê°€ í‰ì†Œë³´ë‹¤ ë†’ìŠµë‹ˆë‹¤. ìš”ë¡œ ì¦ìƒì´ë‚˜ ë‹¹ë‡¨ ì§•í›„ê°€ ì—†ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.":"Water intake is higher than usualâ€”watch for urinary or diabetes signs."):N.push(d==="ko"?"ìˆ˜ë¶„ ì„­ì·¨ë„ ê±´ê°• ë²”ìœ„ ì•ˆì— ìˆì–´ìš”.":"Hydration looks balanced today.");if(B>0){const l=(I==null?void 0:I.playType)==="catWheel"?d==="ko"?"ìº£íœ ":"wheel":d==="ko"?"ì¥ë‚œê°":"toy";N.push(d==="ko"?`${l} ë†€ì´ë¡œ ìµœê·¼ 3ì¼ê°„ í•˜ë£¨ í‰ê·  ${$}ë¶„ í™œë™í–ˆìŠµë‹ˆë‹¤.`:`A ${l} session kept activity at about ${$} min/day over the last 3 days.`)}else N.push(d==="ko"?"ìµœê·¼ 3ì¼ê°„ ë†€ì´ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. ì§§ì€ ì¥ë‚œê° ë†€ì´ë¡œ í™œë™ëŸ‰ì„ ì±„ì›Œì£¼ì„¸ìš”.":"No play sessions logged in the last 3 daysâ€”add a short toy or wheel workout.");if(h){const l=h.dentalCareProduct?d==="ko"?` (${h.dentalCareProduct})`:` (${h.dentalCareProduct})`:"";N.push(d==="ko"?`ì¹˜ì•„ëŠ” ${H===0?"ì˜¤ëŠ˜":`${H}ì¼ ì „`} ì–‘ì¹˜í–ˆìŠµë‹ˆë‹¤${l}.`:`Teeth were brushed ${H===0?"today":`${H} day(s) ago`}${l}.`)}else N.push(d==="ko"?"ìµœê·¼ 3ì¼ê°„ ì¹«ì†”ì§ˆ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. êµ¬ê°• ì¼€ì–´ë¥¼ ì¶”ê°€í•˜ë©´ ì¹˜ì„ ì˜ˆë°©ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.":"No toothbrushing logged in the last 3 daysâ€”regular care keeps tartar at bay.");const p=v.some(l=>l.severity==="critical")||k<80||b<70;return{headline:p?d==="ko"?"ğŸ“‹ AI ê¶Œì¥ ìš”ì•½":"âš ï¸ AI Health Alert":d==="ko"?`${r.name} ë§ì¶¤ ì½”ì¹­`:`Coaching for ${r.name}`,subline:d==="ko"?"ìµœê·¼ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ AI ì¶”ì²œì…ë‹ˆë‹¤.":"AI-generated notes based on your latest activity logs.",highlights:N.slice(0,4),mode:p?"alert":"default"}},ne={name:"",breed:"",birthDate:"",weight:"",gender:"male",neutered:!1,chronicConditions:"",imageUrl:""},be=()=>({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),wetFoodAmount:"",dryFoodAmount:"",snackAmount:"",waterAmount:"",litterCount:"",mood:"normal",playType:"toys",playDurationMinutes:"",brushedTeeth:!1,dentalCareProduct:"",notes:""}),Ot=s=>new Promise((r,j)=>{const v=new FileReader;v.onload=()=>r(v.result),v.onerror=d=>j(d),v.readAsDataURL(s)});function Xt(){const{t:s,i18n:r}=fe(),j=r.language==="ko"?"ko":"en",{addCat:v,updateCat:d,deleteCat:i,selectedCat:o}=Ct(),{weightLogs:x,loadWeightLogs:w,addWeightLog:W,getRecentLogs:C,addHealthLog:P,updateHealthLog:F,deleteHealthLog:D,addVetVisit:R,getVetVisits:k}=le(),[b,B]=m.useState(!1),[$,I]=m.useState(null),[h,A]=m.useState(ne),[H,N]=m.useState(!1),[p,l]=m.useState(!1),[f,K]=m.useState(!1),[O,z]=m.useState(!1),[te,L]=m.useState(""),[je,ie]=m.useState(!1),[de,X]=m.useState(!1),[Le,ae]=m.useState(!1),[Fe,ve]=m.useState(new Date),[Y,we]=m.useState(new Date),[Ge,ce]=m.useState(!1),[u,S]=m.useState(be()),[$e,Ne]=m.useState(null),[Te,Ye]=St(),[Qe,Me]=m.useState(!1),[Je,ke]=m.useState(!1),[me,se]=m.useState(Ke),[U,Pe]=m.useState({name:"",dosage:"",frequency:"",nextDose:"",instructions:""}),[T,Re]=m.useState({date:"",time:"",hospitalName:"",visitReason:"",notes:""}),Z=m.useRef(null),[g,M]=m.useState(()=>{const t=localStorage.getItem("quickLogSettings"),a={mealType:"both",wetFoodBrand:"",wetFoodAmount:50,wetFoodCaloriesPer100g:85,dryFoodBrand:"",dryFoodAmount:30,dryFoodCaloriesPer100g:375,treatBrand:"",treatType:"chewy",treatCount:1,treatCaloriesPer100g:320,waterAmount:50,urineCount:1,fecesCount:1,playDurationToys:15,playDurationWheel:10,dentalProduct:""};if(t){const n=JSON.parse(t);return{...a,...n,treatType:n.treatType||"chewy"}}return a});m.useEffect(()=>{o&&w(o.id)},[o,w]),m.useEffect(()=>{se(o?It(o.id):Ke)},[o]),m.useEffect(()=>{o&&Ut(o.id,me)},[me,o]),m.useEffect(()=>()=>{Oe(Z.current),Z.current=null,typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.cancel()},[]),m.useEffect(()=>{const t=Te.get("modal");!t||b||(t==="addCat"?Ae(void 0,"external"):t==="editCat"&&o&&Ae(o.id,"external"))},[Te,o,b]);const ge=o?C(o.id,365).sort((t,a)=>a.timestamp-t.timestamp):[],ue=le(t=>o?t.anomaliesByCat[o.id]:void 0)||[],_e={food:r.language==="ko"?"ì‹ì‚¬ëŸ‰":"Food intake",water:r.language==="ko"?"ìˆ˜ë¶„":"Water intake",litter:r.language==="ko"?"í™”ì¥ì‹¤":"Litter activity"},E=m.useMemo(()=>Kt({cat:o,logs:ge,anomalies:ue,lang:j,wetFoodCaloriesPer100g:g.wetFoodCaloriesPer100g,dryFoodCaloriesPer100g:g.dryFoodCaloriesPer100g,snackCaloriesPer100g:g.treatCaloriesPer100g}),[o,ge,ue,j,g.wetFoodCaloriesPer100g,g.dryFoodCaloriesPer100g,g.treatCaloriesPer100g]),Q=o?x:[],V=Q.length?Q[Q.length-1]:null,Xe=(V==null?void 0:V.weight)??(o==null?void 0:o.weight)??0,Ce=m.useMemo(()=>o?[...ge.map(a=>({kind:"health",log:a})),...Q.map(a=>({kind:"weight",log:a}))].sort((a,n)=>n.log.timestamp-a.log.timestamp):[],[o,ge,Q]),Ie=m.useMemo(()=>Ce.reduce((t,a)=>{const n=a.log.date;return t[n]||(t[n]=[]),t[n].push(a),t},{}),[Ce]),xe=Fe.toISOString().split("T")[0],Se=Ie[xe]||[],Ue=Se.filter(t=>t.kind==="health").map(t=>t.log),We=m.useMemo(()=>o?[...k(o.id)].sort((a,n)=>a.timestamp-n.timestamp):[],[o,k]),Be=!!(o&&Se.length>0),qe=Be?Se:Ce,De=m.useRef(null),Ze=()=>{localStorage.setItem("quickLogSettings",JSON.stringify(g)),z(!1),L(r.language==="ko"?"ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!":"Settings saved!"),setTimeout(()=>L(""),2e3)},G=t=>{if(!o)return;const a=new Date,n={id:crypto.randomUUID(),catId:o.id,date:a.toISOString().split("T")[0],time:a.toTimeString().slice(0,5),timestamp:a.getTime(),type:t.type||"general",...t};P(n),L(r.language==="ko"?"âœ… ê¸°ë¡ ì™„ë£Œ!":"âœ… Logged!"),setTimeout(()=>L(""),2e3)},et=t=>{Ne(t);const a=t.time||new Date(t.timestamp).toLocaleTimeString(r.language==="ko"?"ko-KR":"en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});S({date:t.date,time:a,wetFoodAmount:t.wetFoodAmount!=null?String(t.wetFoodAmount):"",dryFoodAmount:t.dryFoodAmount!=null?String(t.dryFoodAmount):"",snackAmount:t.snackAmount!=null?String(t.snackAmount):"",waterAmount:t.waterAmount!=null?String(t.waterAmount):"",litterCount:t.litterCount!=null?String(t.litterCount):"",mood:t.mood||"normal",playType:t.playType||"toys",playDurationMinutes:t.playDurationMinutes!=null?String(t.playDurationMinutes):"",brushedTeeth:!!t.brushedTeeth,dentalCareProduct:t.dentalCareProduct||"",notes:t.notes||""}),ce(!0)},q=()=>o?!0:(alert(s("healthLog.selectCatFirst")),!1),he=t=>{const a=new Date(`${t}T00:00:00`);ve(a),we(new Date(a.getFullYear(),a.getMonth(),1))},tt=()=>{if(typeof window>"u"||!window.speechSynthesis){alert(j==="ko"?"ì´ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ìŒì„± ì•ˆë‚´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.":"Speech is not supported in this browser.");return}if(je){window.speechSynthesis.cancel(),ie(!1);return}const t=[E.headline,E.subline,...E.highlights],a=new SpeechSynthesisUtterance(t.filter(Boolean).join(". "));a.lang=j==="ko"?"ko-KR":"en-US",a.rate=1,a.onend=()=>{ie(!1),De.current=null},a.onerror=()=>{ie(!1),De.current=null},De.current=a,ie(!0),window.speechSynthesis.speak(a)},at=()=>{q()&&G({type:"meal",wetFoodAmount:g.mealType==="wet"||g.mealType==="both"?g.wetFoodAmount:void 0,dryFoodAmount:g.mealType==="dry"||g.mealType==="both"?g.dryFoodAmount:void 0,notes:r.language==="ko"?`${g.wetFoodBrand||""} ${g.wetFoodAmount}g`:`${g.dryFoodBrand||""} ${g.dryFoodAmount}g`})},st=()=>{q()&&G({type:"meal",snackAmount:g.treatCount*5,notes:r.language==="ko"?`${g.treatType} ê°„ì‹`:`${g.treatType.replace(/-/g," ")} treat`})},rt=()=>{q()&&G({type:"water",waterAmount:g.waterAmount})},ot=()=>{q()&&G({type:"litter",litterCount:g.urineCount,notes:"Urine log"})},nt=()=>{q()&&G({type:"litter",litterCount:g.fecesCount,notes:"Feces log"})},lt=()=>{q()&&Me(!0)},it=()=>{q()&&ke(!0)},re=(t,a)=>{Pe(n=>({...n,[t]:a}))},dt=t=>{if(t.preventDefault(),!U.name||!U.dosage)return;const a={id:crypto.randomUUID(),name:U.name,dosage:U.dosage,frequency:U.frequency||(r.language==="ko"?"1ì¼ 1íšŒ":"Once daily"),instructions:U.instructions||"",nextDose:U.nextDose||new Date().toLocaleDateString(r.language==="ko"?"ko-KR":"en-US",{month:"short",day:"numeric"}),lastGiven:"-"};se(n=>[...n,a]),Pe({name:"",dosage:"",frequency:"",nextDose:"",instructions:""})},ct=t=>{const a=new Date().toLocaleDateString(r.language==="ko"?"ko-KR":"en-US",{month:"short",day:"numeric"});se(n=>n.map(c=>c.id===t?{...c,lastGiven:a}:c))},mt=t=>{se(a=>a.filter(n=>n.id!==t))},oe=(t,a)=>{Re(n=>({...n,[t]:a}))},gt=t=>{if(t.preventDefault(),!o||!T.date||!T.hospitalName)return;const a=new Date(`${T.date}T${T.time||"09:00"}:00`).getTime();R({id:crypto.randomUUID(),catId:o.id,date:T.date,timestamp:a,hospitalName:T.hospitalName,visitReason:T.visitReason||(r.language==="ko"?"ì¼ë°˜ ì§„ë£Œ":"General care"),notes:T.notes}),Re({date:"",time:"",hospitalName:"",visitReason:"",notes:""}),ke(!1),L(r.language==="ko"?"ğŸ“… ì˜ˆì•½ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!":"ğŸ“… Appointment scheduled!"),setTimeout(()=>L(""),2500)},ut=()=>{q()&&G({type:"grooming",brushedTeeth:!0,dentalCareProduct:g.dentalProduct||void 0,notes:r.language==="ko"?"ì¹«ì†”ì§ˆ ì™„ë£Œ":"Toothbrushing session logged"})},xt=t=>{q()&&(G({mood:t,notes:"Mood log"}),K(!1))},ht=()=>{if(!q())return;X(!0),L(r.language==="ko"?"ğŸ¤ ë“£ê³  ìˆìŠµë‹ˆë‹¤...":"ğŸ¤ Listening...");const t=Et(async a=>{X(!1),ae(!0),L(r.language==="ko"?`ğŸ“ "${a}" - AIê°€ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...`:`ğŸ“ "${a}" - AI is analyzing...`);const n=await $t(a,o.name,r.language);if(ae(!1),n.success){if(G({type:"general",foodAmount:n.foodAmount,waterAmount:n.waterAmount,litterCount:n.litterCount,activityLevel:n.activityLevel||"normal",mood:n.mood||"normal",notes:n.notes||a}),n.symptom){const J={id:crypto.randomUUID(),catId:o.id,date:new Date().toISOString().split("T")[0],timestamp:Date.now(),symptomType:n.symptom.type,severity:n.symptom.severity,description:n.symptom.description,urgency:n.symptom.severity==="severe"?"emergency":n.symptom.severity==="moderate"?"warning":"mild"};le.getState().addSymptom(J)}const c=[];n.foodAmount&&c.push(`${s("healthLog.food")}: ${n.foodAmount}g`),n.waterAmount&&c.push(`${s("healthLog.water")}: ${n.waterAmount}ml`),n.litterCount&&c.push(`${s("healthLog.litter")}: ${n.litterCount}`),n.symptom&&c.push(j==="ko"?`ì¦ìƒ: ${n.symptom.type}`:`Symptom: ${n.symptom.type}`);const ee=c.length?c.join(" Â· "):a;L(j==="ko"?`âœ… ìŒì„± ê¸°ë¡ ì™„ë£Œ: ${ee}`:`âœ… Voice log saved: ${ee}`),setTimeout(()=>L(""),3500)}else L(r.language==="ko"?"âŒ ìŒì„±ì„ ì´í•´í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.":"âŒ Unable to understand."),setTimeout(()=>L(""),3e3)},a=>{X(!1),L(a),setTimeout(()=>L(""),3e3)},j);if(!t){ae(!1),X(!1);return}t.onend=()=>{X(!1),ae(!1),Z.current=null},Z.current=t},pt=()=>{Oe(Z.current),Z.current=null,X(!1),ae(!1)},pe=t=>{Ye(a=>{const n=new URLSearchParams(a);return t?n.set("modal",t):n.delete("modal"),n})},Ae=(t,a="internal")=>{var n;t&&o&&o.id===t?(I(t),A({name:o.name,breed:o.breed,birthDate:o.birthDate,weight:String(o.weight),gender:o.gender,neutered:o.neutered,chronicConditions:((n=o.chronicConditions)==null?void 0:n.join(", "))||"",imageUrl:o.imageUrl||""})):(I(null),A(ne)),B(!0),a==="internal"&&pe(t?"editCat":"addCat")},yt=async t=>{t.preventDefault(),$?d($,{name:h.name,breed:h.breed,birthDate:h.birthDate,weight:Number(h.weight),gender:h.gender,neutered:h.neutered,chronicConditions:h.chronicConditions?h.chronicConditions.split(",").map(a=>a.trim()).filter(Boolean):void 0,imageUrl:h.imageUrl||void 0}):v({name:h.name,breed:h.breed,birthDate:h.birthDate,weight:Number(h.weight),gender:h.gender,neutered:h.neutered,chronicConditions:h.chronicConditions?h.chronicConditions.split(",").map(a=>a.trim()).filter(Boolean):void 0,imageUrl:h.imageUrl||void 0}),B(!1),I(null),A(ne),pe(void 0)},bt=()=>{$&&(i($),B(!1),I(null),A(ne),pe(void 0))},ft=async t=>{if(!t)return;const a=await Ot(t);A(n=>({...n,imageUrl:a}))},jt=t=>{if(t.preventDefault(),!q())return;const a=new Date(`${u.date}T${u.time||"00:00"}:00`).getTime(),n={date:u.date,time:u.time,timestamp:a,type:"general",wetFoodAmount:u.wetFoodAmount?Number(u.wetFoodAmount):void 0,dryFoodAmount:u.dryFoodAmount?Number(u.dryFoodAmount):void 0,snackAmount:u.snackAmount?Number(u.snackAmount):void 0,waterAmount:u.waterAmount?Number(u.waterAmount):void 0,litterCount:u.litterCount?Number(u.litterCount):void 0,mood:u.mood,playType:u.playDurationMinutes?u.playType:void 0,playDurationMinutes:u.playDurationMinutes?Number(u.playDurationMinutes):void 0,brushedTeeth:u.brushedTeeth||void 0,dentalCareProduct:u.brushedTeeth&&u.dentalCareProduct?u.dentalCareProduct:void 0,notes:u.notes};$e?F($e.id,n):P({id:crypto.randomUUID(),catId:o.id,...n}),S(be()),Ne(null),ce(!1)},vt=t=>{if(!t.length)return[];const a=[],n=t.filter(c=>c.kind==="health").map(c=>c.log);return n.some(c=>(c.wetFoodAmount||0)+(c.dryFoodAmount||0)+(c.snackAmount||0)>0)&&a.push("ğŸ½ï¸"),n.some(c=>(c.waterAmount||0)>0)&&a.push("ğŸ’§"),n.some(c=>(c.litterCount||0)>0)&&a.push("ğŸ’©"),n.some(c=>(c.playDurationMinutes||0)>0)&&a.push("ğŸ¾"),n.some(c=>c.brushedTeeth)&&a.push("ğŸª¥"),t.some(c=>c.kind==="weight")&&a.push("âš–ï¸"),a.slice(0,4)},wt=()=>{const t=Y.getFullYear(),a=Y.getMonth(),n=new Date(t,a,1),c=new Date(t,a+1,0),ee=n.getDay(),J=[];for(let y=0;y<ee;y++)J.push(e.jsx("div",{},`blank-${y}`));for(let y=1;y<=c.getDate();y++){const ye=new Date(t,a,y),_=ye.toISOString().split("T")[0],Nt=xe===_,ze=Ie[_]||[],Ee=vt(ze);J.push(e.jsxs("button",{onClick:()=>ve(ye),className:`rounded-2xl p-2 text-left text-sm transition ${Nt?"bg-indigo-600 text-white shadow-lg":ze.length>0?"bg-indigo-50 text-indigo-700":"text-gray-500 hover:bg-slate-50"}`,children:[e.jsx("span",{className:"font-semibold",children:y}),Ee.length>0&&e.jsx("div",{className:"mt-1 flex flex-wrap gap-1 text-[11px] text-indigo-900",children:Ee.map((He,kt)=>e.jsx("span",{className:"rounded-full bg-white/70 px-1.5 py-0.5 shadow-sm",children:He},`${_}-${He}-${kt}`))})]},y))}return J};return e.jsxs("div",{className:"space-y-8",children:[e.jsx("header",{className:"rounded-3xl bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:(o==null?void 0:o.imageUrl)||Ht,className:"h-20 w-20 rounded-3xl object-cover",alt:(o==null?void 0:o.name)||"Cat"}),o&&e.jsx("button",{onClick:()=>Ae(o.id),className:"absolute bottom-1 right-1 rounded-2xl bg-white/80 px-2 py-1 text-xs font-semibold text-gray-700 shadow",children:"âœï¸"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-indigo-600",children:s("dashboard.title")}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o?o.name:s("dashboard.currentProfile")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("dashboard.overviewSubtitle",{catName:(o==null?void 0:o.name)||"Cat"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(Dt,{to:"/ai-chat",className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-5 py-2 text-sm font-semibold text-emerald-700 shadow-sm hover:bg-emerald-100",children:["ğŸ¤– ",s("dashboard.aiChat")]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 rounded-full border border-red-200 px-5 py-2 text-sm font-semibold text-red-600 hover:bg-red-50",children:["âš ï¸ ",r.language==="ko"?"ì¦ìƒ ê¸°ë¡":"Log Symptom"]}),e.jsxs("button",{onClick:de?pt:ht,disabled:Le,className:`inline-flex items-center gap-2 rounded-full px-5 py-2 text-sm font-semibold text-white ${de?"bg-gray-500":Le?"bg-gray-400":"bg-green-500 hover:bg-green-600"}`,children:[de?"â¹ï¸":"ğŸ¤"," ",de?r.language==="ko"?"ì¤‘ì§€":"Stop":r.language==="ko"?"ìŒì„± ê¸°ë¡":"Voice Log"]})]})]})]})}),o&&e.jsx("section",{className:`rounded-3xl border p-6 shadow-sm ${E.mode==="alert"?"border-rose-200 bg-rose-50":"border-indigo-100 bg-white"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl text-2xl ${E.mode==="alert"?"bg-rose-100 text-rose-600":"bg-indigo-50 text-indigo-600"}`,"aria-hidden":"true",children:"ğŸ¤–"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:s("dashboard.aiSummary.title")}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:E.headline})]}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-500 md:text-right",children:[e.jsx("p",{children:E.subline}),e.jsxs("button",{type:"button",onClick:tt,className:"inline-flex items-center justify-end gap-2 text-xs font-semibold text-indigo-600 hover:text-indigo-800",children:[je?"â¹ï¸":"ğŸ”Š"," ",s(je?"dashboard.aiSummary.stop":"dashboard.aiSummary.read")]})]})]}),E.highlights.length>0?e.jsx("ul",{className:"space-y-2 text-sm text-gray-700",children:E.highlights.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-500",children:"â€¢"}),e.jsx("span",{className:"flex-1",children:t})]},`${t}-${a}`))}):e.jsx("p",{className:"text-sm text-gray-500",children:s("dashboard.aiSummary.empty")})]})]})}),o&&ue.length>0&&e.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:r.language==="ko"?"ê±´ê°• ì•Œë¦¼":"Health Alerts"}),e.jsx("p",{className:"text-sm text-gray-400",children:r.language==="ko"?"ìµœê·¼ 3ì¼ê°„ ë¹„ì •ìƒ íŒ¨í„´ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.":"Recent rolling-window anomalies detected."})]})}),e.jsx("div",{className:"mt-4 space-y-3",children:ue.map(t=>e.jsxs("div",{className:`rounded-2xl border p-4 text-sm ${t.severity==="critical"?"border-red-200 bg-red-50 text-red-800":"border-amber-200 bg-amber-50 text-amber-900"}`,children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("span",{className:"font-semibold uppercase text-xs tracking-wide",children:_e[t.metric]}),e.jsx("span",{className:"rounded-full border border-white/40 px-2 py-0.5 text-[11px] font-semibold",children:t.severity==="critical"?r.language==="ko"?"ì£¼ì˜ ìš”ë§":"Critical":r.language==="ko"?"ì£¼ì˜":"Warning"})]}),e.jsx("p",{className:"mt-2 text-sm",children:t.description})]},t.id))})]}),e.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:s("dashboard.quickActionsTitle")}),e.jsx("p",{className:"text-sm text-gray-400",children:s("dashboard.quickActionsDescription")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{S(be()),ce(!0)},className:"inline-flex items-center rounded-full border border-purple-200 px-3 py-1 text-xs font-semibold text-purple-700 hover:border-purple-300",children:["ğŸ“ ",r.language==="ko"?"ìƒì„¸ ê¸°ë¡":"Detailed Log"]}),e.jsxs("button",{onClick:()=>z(!0),className:"inline-flex items-center rounded-full border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-600 hover:border-indigo-200 hover:text-indigo-600",children:["âš™ï¸ ",s("dashboard.quickActionSettings")]})]})]}),e.jsxs("div",{className:"mt-6 grid gap-3 sm:grid-cols-3",children:[e.jsxs("button",{onClick:at,className:"rounded-2xl border border-orange-200 px-4 py-3 text-sm font-semibold text-orange-700",children:["ğŸ½ï¸ ",r.language==="ko"?"ì‹ì‚¬":"Meal"]}),e.jsxs("button",{onClick:st,className:"rounded-2xl border border-pink-200 px-4 py-3 text-sm font-semibold text-pink-700",children:["ğŸ– ",r.language==="ko"?"ê°„ì‹":"Treat"]}),e.jsxs("button",{onClick:rt,className:"rounded-2xl border border-blue-200 px-4 py-3 text-sm font-semibold text-blue-700",children:["ğŸ’§ ",r.language==="ko"?"ë¬¼":"Water"]})]}),e.jsxs("div",{className:"mt-4 grid gap-3 grid-cols-2 sm:grid-cols-4",children:[e.jsxs("button",{onClick:()=>K(!0),className:"rounded-2xl border border-yellow-200 px-4 py-3 text-sm font-semibold text-yellow-700",children:["ğŸ˜Š ",r.language==="ko"?"ê¸°ë¶„":"Mood"]}),e.jsxs("button",{onClick:ot,className:"rounded-2xl border border-cyan-200 px-4 py-3 text-sm font-semibold text-cyan-700",children:["ğŸ’¦ ",r.language==="ko"?"ì†Œë³€":"Urine"]}),e.jsxs("button",{onClick:nt,className:"rounded-2xl border border-amber-200 px-4 py-3 text-sm font-semibold text-amber-700",children:["ğŸ’© ",r.language==="ko"?"ëŒ€ë³€":"Feces"]}),e.jsxs("button",{onClick:ut,className:"rounded-2xl border border-green-200 px-4 py-3 text-sm font-semibold text-green-700",children:["ğŸª¥ ",s("dashboard.quickActionsBrushTeeth")]}),e.jsxs("button",{onClick:()=>N(!0),className:"rounded-2xl border border-slate-200 px-4 py-3 text-sm font-semibold text-slate-700",children:["âš–ï¸ ",r.language==="ko"?"ì²´ì¤‘":"Weight"]}),e.jsxs("button",{onClick:lt,className:"rounded-2xl border border-rose-100 px-4 py-3 text-sm font-semibold text-rose-600 hover:bg-rose-50",children:["ğŸ’Š ",r.language==="ko"?"ì•½ ê´€ë¦¬":"Medications"]}),e.jsxs("button",{onClick:it,className:"rounded-2xl border border-teal-100 px-4 py-3 text-sm font-semibold text-teal-600 hover:bg-teal-50",children:["ğŸ“… ",r.language==="ko"?"ì˜ˆì•½":"Appointments"]})]}),te&&e.jsx("div",{className:"mt-4 rounded-2xl bg-indigo-50 px-4 py-3 text-sm text-indigo-700",children:te})]}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-sm lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:s("dashboard.calendarTitle")}),e.jsx("p",{className:"text-sm text-gray-400",children:s("dashboard.calendarSubtitle")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("button",{onClick:()=>we(new Date(Y.getFullYear(),Y.getMonth()-1,1)),className:"rounded-full border border-gray-200 px-2",children:"â†"}),e.jsx("span",{children:Y.toLocaleDateString(r.language==="ko"?"ko-KR":"en-US",{year:"numeric",month:"long"})}),e.jsx("button",{onClick:()=>we(new Date(Y.getFullYear(),Y.getMonth()+1,1)),className:"rounded-full border border-gray-200 px-2",children:"â†’"})]})]}),e.jsx("div",{className:"mt-6 grid grid-cols-7 gap-2 text-xs text-gray-500",children:["S","M","T","W","T","F","S"].map(t=>e.jsx("span",{className:"text-center font-semibold",children:t},t))}),e.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:wt()})]}),e.jsx("div",{className:"rounded-3xl bg-white p-6 shadow-sm",children:o&&Ue.length>0?e.jsx(zt,{cat:o,dailyLogs:Ue,date:Fe,wetFoodCaloriesPer100g:g.wetFoodCaloriesPer100g,dryFoodCaloriesPer100g:g.dryFoodCaloriesPer100g,snackCaloriesPer100g:g.treatCaloriesPer100g}):e.jsx("div",{className:"text-sm text-gray-500",children:s("dashboard.calendarEmpty")})})]}),e.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:r.language==="ko"?"ì „ì²´ ê¸°ë¡":"All Logs"}),e.jsx("p",{className:"text-sm text-gray-400",children:Be?s("dashboard.allLogsFiltered",{date:xe}):r.language==="ko"?"ìµœê·¼ í™œë™ì„ ëª¨ë‘ í™•ì¸í•˜ì„¸ìš”.":"Review every activity log."})]}),e.jsx("button",{onClick:()=>ve(new Date),className:"text-xs font-semibold text-indigo-600",children:r.language==="ko"?"ì˜¤ëŠ˜ë¡œ ì´ë™":"Jump to today"})]}),e.jsxs("div",{className:"mt-4 space-y-3 text-sm text-gray-600",children:[qe.length===0&&e.jsx("p",{className:"text-gray-500",children:s("dashboard.calendarEmpty")}),qe.map(t=>{if(t.kind==="weight"){const y=t.log,ye=new Date(y.timestamp);return e.jsxs("div",{role:"button",tabIndex:0,onClick:()=>he(y.date),onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),he(y.date))},className:"rounded-2xl border border-gray-100 p-4 outline-none transition hover:border-indigo-200 hover:bg-indigo-50",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:ye.toLocaleDateString(r.language==="ko"?"ko-KR":"en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"weight"})]}),e.jsxs("p",{className:"mt-2 text-gray-600",children:[`${s("healthLog.weight")}: ${y.weight}kg`,y.notes?` Â· ${y.notes}`:""]})]},`weight-${y.id}`)}const a=t.log,n=new Date(a.timestamp),c=[];if(a.wetFoodAmount&&c.push(`${s("nutrition.foodLabels.wet")} ${a.wetFoodAmount}g`),a.dryFoodAmount&&c.push(`${s("nutrition.foodLabels.primary")} ${a.dryFoodAmount}g`),a.snackAmount&&c.push(`${s("nutrition.foodLabels.treat")} ${a.snackAmount}g`),a.waterAmount&&c.push(`${s("nutrition.statLabels.water")} ${a.waterAmount}ml`),a.litterCount&&c.push(`${s("healthLog.litter")} ${a.litterCount}`),a.playDurationMinutes){const y=a.playType==="catWheel"?r.language==="ko"?"íœ  ë†€ì´":"cat wheel":r.language==="ko"?"ì¥ë‚œê° ë†€ì´":"toy play";c.push(`${s("healthLog.play")}: ${y} ${a.playDurationMinutes}m`)}a.brushedTeeth&&c.push(a.dentalCareProduct?`${s("healthLog.brushedTeeth")} (${a.dentalCareProduct})`:s("healthLog.brushedTeeth")),a.mood&&c.push(`${s("healthLog.mood")}: ${a.mood}`),a.notes&&c.push(a.notes);const ee=c.length>0?c.join(" Â· "):s("dashboard.stats.noData"),J=xe===a.date;return e.jsxs("div",{role:"button",tabIndex:0,onClick:()=>he(a.date),onKeyDown:y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),he(a.date))},className:`rounded-2xl border p-4 outline-none transition ${J?"border-indigo-200 bg-indigo-50 ring-2 ring-indigo-100":"border-gray-100 hover:border-indigo-200 hover:bg-indigo-50"}`,children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[n.toLocaleDateString(r.language==="ko"?"ko-KR":"en-US",{year:"numeric",month:"short",day:"numeric"}),a.time&&` Â· ${a.time}`]}),e.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:a.type||"general"})]}),e.jsx("p",{className:"mt-2 text-gray-600",children:ee}),e.jsxs("div",{className:"mt-3 flex gap-3 text-xs font-semibold",children:[e.jsx("button",{type:"button",onClick:y=>{y.stopPropagation(),et(a)},className:"text-indigo-600 hover:underline",children:s("catProfile.edit")}),e.jsx("button",{type:"button",onClick:y=>{y.stopPropagation(),D(a.id)},className:"text-red-600 hover:underline",children:s("catProfile.delete")})]})]},a.id)})]})]}),o&&e.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:s("dashboard.weightHistoryTitle")}),e.jsx("p",{className:"text-sm text-gray-400",children:V?j==="ko"?`ë§ˆì§€ë§‰ ê¸°ë¡: ${V.weight}kg Â· ${new Date(V.timestamp).toLocaleDateString("ko-KR")}`:`Last entry: ${V.weight}kg Â· ${new Date(V.timestamp).toLocaleDateString("en-US")}`:s("dashboard.weightHistoryEmpty")})]})}),e.jsxs("div",{className:"mt-4 space-y-3 text-sm text-gray-600",children:[Q.length===0&&e.jsx("p",{className:"text-gray-500",children:s("dashboard.weightHistoryEmpty")}),Q.slice().sort((t,a)=>a.timestamp-t.timestamp).map(t=>e.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:new Date(t.timestamp).toLocaleDateString(r.language==="ko"?"ko-KR":"en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:s("healthLog.weight")})]}),e.jsxs("p",{className:"mt-2 text-gray-600",children:[t.weight,"kg",t.notes?` Â· ${t.notes}`:""]})]},`history-${t.id}`))]})]}),H&&o&&e.jsx(Wt,{catId:o.id,currentWeight:Xe||o.weight,onSave:t=>{W(t),d(o.id,{weight:t.weight})},onClose:()=>N(!1)}),p&&o&&e.jsx(qt,{catId:o.id,catName:o.name,onSave:t=>{le.getState().addSymptom(t),L(r.language==="ko"?"ì¦ìƒì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!":"Symptom saved!"),setTimeout(()=>L(""),3e3)},onClose:()=>l(!1)}),f&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:e.jsxs("div",{className:"w-full max-w-sm rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s("healthLog.mood")}),e.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[{value:"happy",emoji:"ğŸ˜Š",label:s("healthLog.moodHappy")},{value:"normal",emoji:"ğŸ˜",label:s("healthLog.moodNormal")},{value:"sad",emoji:"ğŸ˜¢",label:s("healthLog.moodSad")},{value:"angry",emoji:"ğŸ˜ ",label:s("healthLog.moodAngry")}].map(t=>e.jsxs("button",{onClick:()=>xt(t.value),className:"rounded-2xl border border-gray-200 px-4 py-3 text-lg font-semibold text-gray-700 hover:border-indigo-200 hover:text-indigo-600",children:[t.emoji," ",t.label]},t.value))}),e.jsx("button",{onClick:()=>K(!1),className:"mt-4 w-full rounded-2xl border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:border-gray-300",children:s("catProfile.cancel")})]})}),O&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:e.jsxs("div",{className:"max-h-[90vh] w-full max-w-2xl overflow-y-auto rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["âš™ï¸ ",s("dashboard.quickActionSettings")]}),e.jsx("button",{onClick:()=>z(!1),children:"âœ–ï¸"})]}),e.jsxs("div",{className:"mt-6 space-y-5",children:[e.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-orange-50 p-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-800",children:["ğŸ½ï¸ ",r.language==="ko"?"ì‹ì‚¬ ê¸°ë³¸ëŸ‰":"Meal Defaults"]}),e.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[{value:"wet",label:r.language==="ko"?"ìŠµì‹":"Wet"},{value:"dry",label:r.language==="ko"?"ê±´ì‹":"Dry"},{value:"both",label:r.language==="ko"?"ë‘˜ ë‹¤":"Both"}].map(t=>e.jsx("button",{onClick:()=>M(a=>({...a,mealType:t.value})),className:`rounded-2xl border px-3 py-2 text-sm ${g.mealType===t.value?"border-indigo-500 bg-white text-indigo-600":"border-gray-200 text-gray-600"}`,children:t.label},t.value))}),e.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Wet Food (g)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.wetFoodAmount,onChange:t=>M(a=>({...a,wetFoodAmount:Number(t.target.value)}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Dry Food (g)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.dryFoodAmount,onChange:t=>M(a=>({...a,dryFoodAmount:Number(t.target.value)}))})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-blue-100 bg-blue-50 p-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-800",children:["ğŸ’§ ",r.language==="ko"?"ë¬¼ & ë°°ë³€":"Water & Litter"]}),e.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:r.language==="ko"?"ë¬¼ (ml)":"Water (ml)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.waterAmount,onChange:t=>M(a=>({...a,waterAmount:Number(t.target.value)}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:r.language==="ko"?"ì†Œë³€":"Urine"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.urineCount,onChange:t=>M(a=>({...a,urineCount:Number(t.target.value)}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:r.language==="ko"?"ëŒ€ë³€":"Feces"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.fecesCount,onChange:t=>M(a=>({...a,fecesCount:Number(t.target.value)}))})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-pink-100 bg-pink-50 p-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-800",children:["ğŸ– ",r.language==="ko"?"ê°„ì‹ ì„¤ì •":"Treat Preferences"]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:[{value:"chewy",label:r.language==="ko"?"ì«„ê¹ƒ":"Chewy"},{value:"crunchy",label:r.language==="ko"?"ë°”ì‚­":"Crunchy"},{value:"freeze-dried",label:r.language==="ko"?"ë™ê²° ê±´ì¡°":"Freeze-dried"}].map(t=>e.jsx("button",{onClick:()=>M(a=>({...a,treatType:t.value})),className:`rounded-2xl border px-3 py-1 text-sm ${g.treatType===t.value?"border-pink-400 bg-white text-pink-600":"border-pink-100 text-pink-700"}`,children:t.label},t.value))}),e.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:r.language==="ko"?"ê°„ì‹ ë¸Œëœë“œ":"Treat brand"}),e.jsx("input",{type:"text",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.treatBrand||"",onChange:t=>M(a=>({...a,treatBrand:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:r.language==="ko"?"ê°„ì‹ ê°œìˆ˜":"Treat count"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.treatCount,onChange:t=>M(a=>({...a,treatCount:Number(t.target.value)}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:"kcal / 100g"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.treatCaloriesPer100g,onChange:t=>M(a=>({...a,treatCaloriesPer100g:Number(t.target.value)}))})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-violet-100 bg-violet-50 p-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-800",children:["ğŸ¯ ",r.language==="ko"?"ë†€ì´ ê¸°ë³¸ê°’":"Play Defaults"]}),e.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:r.language==="ko"?"ì¥ë‚œê° (ë¶„)":"Toys (min)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.playDurationToys,onChange:t=>M(a=>({...a,playDurationToys:Number(t.target.value)}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500",children:r.language==="ko"?"ëŸ¬ë‹íœ  (ë¶„)":"Cat wheel (min)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.playDurationWheel,onChange:t=>M(a=>({...a,playDurationWheel:Number(t.target.value)}))})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50 p-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-800",children:["ğŸª¥ ",r.language==="ko"?"êµ¬ê°• ì¼€ì–´":"Dental Care"]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"text-sm text-gray-500",children:r.language==="ko"?"ì‚¬ìš© ì œí’ˆ":"Product / Paste"}),e.jsx("input",{type:"text",className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",value:g.dentalProduct||"",onChange:t=>M(a=>({...a,dentalProduct:t.target.value})),placeholder:r.language==="ko"?"ì˜ˆ: ë´íƒˆì ¤, ì¹˜ì•½ ë“±":"e.g., dental gel or toothpaste"})]})]})]}),e.jsxs("div",{className:"mt-5 flex gap-3",children:[e.jsx("button",{onClick:()=>z(!1),className:"flex-1 rounded-2xl border border-gray-200 px-4 py-3 text-sm font-semibold text-gray-600 hover:bg-gray-50",children:s("catProfile.cancel")}),e.jsx("button",{onClick:Ze,className:"flex-1 rounded-2xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white hover:bg-indigo-700",children:s("catProfile.save")})]})]})}),Qe&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:e.jsxs("div",{className:"w-full max-w-lg max-h-[90vh] overflow-y-auto rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["ğŸ’Š ",s("dashboard.medManagerTitle")]}),e.jsx("button",{onClick:()=>Me(!1),children:"âœ–ï¸"})]}),o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 space-y-3",children:[me.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:s("dashboard.medManagerEmpty")}),me.map(t=>e.jsx("div",{className:"rounded-2xl border border-rose-100 p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-semibold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.dosage," Â· ",t.frequency]}),t.instructions&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:t.instructions}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[e.jsxs("p",{children:[s("dashboard.medNextDose"),":"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:t.nextDose||"-"})]}),e.jsxs("p",{children:[s("dashboard.medLastGiven"),":"," ",e.jsx("span",{className:"font-semibold text-gray-800",children:t.lastGiven||"-"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{type:"button",onClick:()=>ct(t.id),className:"rounded-xl border border-green-200 px-3 py-1 text-xs font-semibold text-green-700 hover:bg-green-50",children:s("dashboard.medMarkGiven")}),e.jsx("button",{type:"button",onClick:()=>mt(t.id),className:"rounded-xl border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-600 hover:bg-gray-50",children:s("dashboard.remove")})]})]})},t.id))]}),e.jsxs("form",{onSubmit:dt,className:"mt-5 space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:s("dashboard.medManagerFormTitle")}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.medicationName")}),e.jsx("input",{type:"text",value:U.name,onChange:t=>re("name",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.medicationDosage")}),e.jsx("input",{type:"text",value:U.dosage,onChange:t=>re("dosage",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.medicationFrequency")}),e.jsx("input",{type:"text",value:U.frequency,onChange:t=>re("frequency",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.medicationNextDose")}),e.jsx("input",{type:"text",value:U.nextDose,onChange:t=>re("nextDose",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",placeholder:new Date().toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.medicationInstruction")}),e.jsx("textarea",{value:U.instructions,onChange:t=>re("instructions",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",rows:2})]}),e.jsx("button",{type:"submit",className:"w-full rounded-2xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white hover:bg-indigo-700",children:s("dashboard.medManagerAdd")})]})]}):e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:s("healthLog.selectCatFirst")})]})}),Je&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:e.jsxs("div",{className:"w-full max-w-lg max-h-[90vh] overflow-y-auto rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["ğŸ“… ",s("dashboard.appointmentModalTitle")]}),e.jsx("button",{onClick:()=>ke(!1),children:"âœ–ï¸"})]}),o?e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:gt,className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.appointmentFormDate")}),e.jsx("input",{type:"date",value:T.date,onChange:t=>oe("date",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.appointmentFormTime")}),e.jsx("input",{type:"time",value:T.time,onChange:t=>oe("time",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.appointmentFormHospital")}),e.jsx("input",{type:"text",value:T.hospitalName,onChange:t=>oe("hospitalName",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.appointmentFormReason")}),e.jsx("input",{type:"text",value:T.visitReason,onChange:t=>oe("visitReason",t.target.value),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",placeholder:r.language==="ko"?"ì˜ˆ: ì˜ˆë°© ì ‘ì¢…":"e.g., vaccination"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:s("dashboard.appointmentFormNotes")}),e.jsx("textarea",{value:T.notes,onChange:t=>oe("notes",t.target.value),rows:3,className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"})]}),e.jsx("button",{type:"submit",className:"w-full rounded-2xl bg-teal-600 px-4 py-3 text-sm font-semibold text-white hover:bg-teal-700",children:s("dashboard.appointmentSave")})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:s("dashboard.upcomingAppointments")}),e.jsxs("div",{className:"mt-2 space-y-2",children:[We.length===0&&e.jsx("p",{className:"text-xs text-gray-500",children:s("dashboard.appointmentEmpty")}),We.slice(0,3).map(t=>e.jsxs("div",{className:"rounded-2xl border border-teal-100 p-3 text-xs text-gray-600",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:new Date(t.timestamp).toLocaleDateString(r.language==="ko"?"ko-KR":"en-US",{month:"short",day:"numeric"})}),e.jsx("p",{children:t.hospitalName}),e.jsx("p",{className:"text-gray-500",children:t.visitReason})]},t.id))]})]})]}):e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:s("healthLog.selectCatFirst")})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:e.jsxs("div",{className:"w-full max-w-lg max-h-[90vh] overflow-y-auto rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:s($?"catProfile.edit":"nav.addCat")}),e.jsxs("form",{onSubmit:yt,className:"mt-4 space-y-4",children:[["name","breed","birthDate","weight"].map(t=>e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s(`catProfile.${t}`)}),e.jsx("input",{type:t==="birthDate"?"date":t==="weight"?"number":"text",value:h[t],onChange:a=>A(n=>({...n,[t]:a.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",required:!0})]},t)),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Image URL"}),e.jsx("input",{type:"url",placeholder:"https://",value:h.imageUrl,onChange:t=>A(a=>({...a,imageUrl:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"}),e.jsx("input",{type:"file",accept:"image/*",className:"mt-2 w-full text-sm",onChange:t=>{var a;return ft(((a=t.target.files)==null?void 0:a[0])||null)}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("catProfile.gender")}),e.jsxs("select",{value:h.gender,onChange:t=>A(a=>({...a,gender:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",children:[e.jsx("option",{value:"male",children:s("catProfile.male")}),e.jsx("option",{value:"female",children:s("catProfile.female")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:h.neutered,onChange:t=>A(a=>({...a,neutered:t.target.checked}))}),e.jsx("span",{className:"text-sm text-gray-600",children:s("catProfile.neutered")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("catProfile.chronicConditions")}),e.jsx("input",{type:"text",value:h.chronicConditions,onChange:t=>A(a=>({...a,chronicConditions:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",placeholder:"Diabetes, Kidney disease"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>{B(!1),I(null),A(ne),pe(void 0)},className:"flex-1 rounded-2xl border border-gray-200 px-4 py-3 text-sm font-semibold text-gray-600",children:s("catProfile.cancel")}),e.jsx("button",{type:"submit",className:"flex-1 rounded-2xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white",children:s("catProfile.save")})]}),$&&e.jsxs("button",{type:"button",onClick:bt,className:"mt-3 w-full rounded-2xl border border-red-200 px-4 py-2 text-sm font-semibold text-red-600 hover:bg-red-50",children:["ğŸ—‘ï¸ ",s("catProfile.delete")]})]})]})}),Ge&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:e.jsxs("div",{className:"w-full max-w-xl rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s("healthLog.addTodayLog")}),e.jsxs("form",{onSubmit:jt,className:"mt-4 grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.date")}),e.jsx("input",{type:"date",value:u.date,onChange:t=>S(a=>({...a,date:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.time")}),e.jsx("input",{type:"time",value:u.time,onChange:t=>S(a=>({...a,time:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Wet (g)"}),e.jsx("input",{type:"number",value:u.wetFoodAmount,onChange:t=>S(a=>({...a,wetFoodAmount:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Dry (g)"}),e.jsx("input",{type:"number",value:u.dryFoodAmount,onChange:t=>S(a=>({...a,dryFoodAmount:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Snack (g)"}),e.jsx("input",{type:"number",value:u.snackAmount,onChange:t=>S(a=>({...a,snackAmount:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.water")}),e.jsx("input",{type:"number",value:u.waterAmount,onChange:t=>S(a=>({...a,waterAmount:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.litter")}),e.jsx("input",{type:"number",value:u.litterCount,onChange:t=>S(a=>({...a,litterCount:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.playDuration")}),e.jsx("input",{type:"number",value:u.playDurationMinutes,onChange:t=>S(a=>({...a,playDurationMinutes:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",placeholder:"15"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.playType")}),e.jsxs("select",{value:u.playType,onChange:t=>S(a=>({...a,playType:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",children:[e.jsx("option",{value:"toys",children:s("healthLog.playToy")}),e.jsx("option",{value:"catWheel",children:s("healthLog.playWheel")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.mood")}),e.jsxs("select",{value:u.mood,onChange:t=>S(a=>({...a,mood:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",children:[e.jsx("option",{value:"happy",children:s("healthLog.moodHappy")}),e.jsx("option",{value:"normal",children:s("healthLog.moodNormal")}),e.jsx("option",{value:"sad",children:s("healthLog.moodSad")}),e.jsx("option",{value:"angry",children:s("healthLog.moodAngry")})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.brushedTeeth")}),e.jsxs("div",{className:"mt-2 flex flex-col gap-2 rounded-2xl border border-gray-200 p-3 sm:flex-row sm:items-center",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:u.brushedTeeth,onChange:t=>S(a=>({...a,brushedTeeth:t.target.checked})),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.language==="ko"?"ì˜¤ëŠ˜ ì¹«ì†”ì§ˆ ì™„ë£Œ":"Brushed today"]}),e.jsx("input",{type:"text",value:u.dentalCareProduct,onChange:t=>S(a=>({...a,dentalCareProduct:t.target.value})),disabled:!u.brushedTeeth,placeholder:s("healthLog.dentalProductPlaceholder"),className:`flex-1 rounded-2xl border px-4 py-2 text-sm ${u.brushedTeeth?"border-gray-200 bg-white":"border-gray-100 bg-gray-50 text-gray-400"}`})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:s("healthLog.memo")}),e.jsx("textarea",{value:u.notes,onChange:t=>S(a=>({...a,notes:t.target.value})),className:"mt-1 w-full rounded-2xl border border-gray-200 px-4 py-2",rows:3})]}),e.jsxs("div",{className:"sm:col-span-2 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{ce(!1),Ne(null),S(be())},className:"flex-1 rounded-2xl border border-gray-200 px-4 py-3 text-sm font-semibold text-gray-600",children:s("catProfile.cancel")}),e.jsx("button",{type:"submit",className:"flex-1 rounded-2xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white",children:s("catProfile.save")})]})]})]})})]})}export{Xt as default};
