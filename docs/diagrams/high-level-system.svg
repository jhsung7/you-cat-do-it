<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 920 360" width="920" height="360" role="img" aria-labelledby="title desc">
  <title id="title">High-level system architecture</title>
  <desc id="desc">User interacts with a React single-page app that routes to cat features, syncs state via a proxy to Supabase, and sends AI prompts through Gemini.</desc>
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1f2937" />
    </marker>
  </defs>
  <style>
    text { font-family: 'Inter', 'Segoe UI', sans-serif; fill: #111827; font-size: 14px; }
    .box { fill: #eef2ff; stroke: #4338ca; stroke-width: 2; rx: 10; ry: 10; }
    .store { fill: #ecfeff; stroke: #0891b2; }
    .proxy { fill: #fff7ed; stroke: #c2410c; }
    .db { fill: #f0fdf4; stroke: #15803d; }
    .circle { fill: #e0f2fe; stroke: #0284c7; stroke-width: 2; }
    .arrow { stroke: #1f2937; stroke-width: 2; marker-end: url(#arrow); fill: none; }
  </style>

  <!-- Nodes -->
  <circle class="circle" cx="80" cy="160" r="42" />
  <text x="80" y="165" text-anchor="middle" font-weight="600">User</text>

  <rect class="box" x="200" y="130" width="150" height="60" />
  <text x="275" y="165" text-anchor="middle" font-weight="600">React SPA</text>
  <text x="275" y="183" text-anchor="middle">(Vite)</text>

  <rect class="box" x="390" y="70" width="200" height="70" />
  <text x="490" y="100" text-anchor="middle" font-weight="600">Router</text>
  <text x="490" y="118" text-anchor="middle">Dashboard / Health</text>
  <text x="490" y="136" text-anchor="middle">Records / Nutrition / AI Chat</text>

  <rect class="store" x="430" y="190" width="160" height="60" />
  <text x="510" y="220" text-anchor="middle" font-weight="600">Zustand catStore</text>
  <text x="510" y="240" text-anchor="middle">persisted to localStorage</text>

  <rect class="store" x="200" y="240" width="150" height="70" />
  <text x="275" y="272" text-anchor="middle" font-weight="600">stateSync</text>
  <text x="275" y="292" text-anchor="middle">load / save shared state</text>

  <rect class="proxy" x="640" y="130" width="170" height="70" />
  <text x="725" y="160" text-anchor="middle" font-weight="600">Gemini &amp; State Proxy</text>

  <rect class="db" x="640" y="40" width="170" height="60" />
  <text x="725" y="70" text-anchor="middle" font-weight="600">Supabase</text>
  <text x="725" y="90" text-anchor="middle">shared_state table</text>

  <rect class="db" x="640" y="230" width="170" height="70" />
  <text x="725" y="262" text-anchor="middle" font-weight="600">Google Gemini API</text>
  <text x="725" y="282" text-anchor="middle">generateContent</text>

  <!-- Arrows -->
  <line class="arrow" x1="122" y1="160" x2="200" y2="160" />
  <line class="arrow" x1="350" y1="150" x2="390" y2="120" />
  <line class="arrow" x1="490" y1="140" x2="510" y2="190" />
  <line class="arrow" x1="430" y1="220" x2="350" y2="170" />
  <line class="arrow" x1="275" y1="190" x2="275" y2="240" />
  <line class="arrow" x1="350" y1="275" x2="640" y2="170" />
  <line class="arrow" x1="350" y1="160" x2="640" y2="160" />
  <line class="arrow" x1="725" y1="230" x2="725" y2="200" />
  <line class="arrow" x1="725" y1="130" x2="725" y2="100" />
</svg>
